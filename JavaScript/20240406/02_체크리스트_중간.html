<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="./css/check_list.css">
</head>
<script>
    /*
    3. 등록시 조건
    1) 글 등록이 된 후 폼 태그가 비워지도록
    2) 할일과 날짜가 입력이 안된 경우 글 등록이 안되도록 (경고문을 발생하도록)
    3) 날짜의 기본값은 오늘로
    4) 이전 날짜는 선택이 안되도록
     */
    document.addEventListener('DOMContentLoaded', function () {
        const title = document.querySelector('.add input[name=title]')
        const dueDate = document.querySelector('.add input[name=dueDate]')
        const btnAdd = document.querySelector('.add input[type=button]')
        const list = document.querySelector('.list ul')

        dueDate.value = new Date().toISOString().slice(0,10)
        dueDate.setAttribute('min', new Date().toISOString().slice(0,10))

        btnAdd.addEventListener('click', function () {
            if (title.value === '') {
                alert('제목을 입력해주세요')
                title.focus()
                return
            } else if (dueDate.value === '') {
                alert('날짜를 선택해 주세요')
                dueDate.focus()
                return;
            }

            let addItem = document.createElement('li')
            addItem .innerHTML = `<ul>\n
                        <li>${title.value}</li>\n\
                        <li>${dueDate.value}</li>\n
                        <li><input type="button" name="delete" value="x"></li>\n
                        </ul>`
            list.appendChild(addItem)

            title.value = ''
            dueDate.value = new Date().toISOString().slice(0,10)
        })
    })
</script>
<body>
<section class="list">
    <h2>Todo</h2>
    <ul>
        <li>
            <ul>
                <li>할일</li>
                <li>2023-12-31</li>
                <li><input type="button" name="delete" value="x"></li>
            </ul>
        </li>
    </ul>
</section>
<section class="add">
    <h2>Add todo</h2>
    <div class="addTool">
        <input type="text" name="title">
        <input type="date" name="dueDate">
        <input type="button" value="등록">
    </div>
</section>

</body>
</html>